---
sidebar_position: 4
---

import {useTranslation} from 'react-i18next';

export default function VoiceCommandPipeline() {
  const {i18n} = useTranslation();
  const isUrdu = i18n.language === 'ur';
  
  if (isUrdu) {
    return (
      <div>
        <h1>ÙˆØ§Ø¦Ø³ Ù¾Ø§Ø¦Ù¾ Ù„Ø§Ø¦Ù† Ø¨Ù†Ø§Ù†Ø§</h1>
        
        <h2>ğŸ¯ Ù…Ú©Ù…Ù„ ØªØµÙˆÛŒØ±</h2>
        
        <p>Ø§Ø³ Ø¢Ø®Ø±ÛŒ Ø¨Ø§Ø¨ Ù…ÛŒÚºØŒ ÛÙ… ÛØ± Ú†ÛŒØ² Ú©Ùˆ Ø§ÛŒÚ© Ù…Ú©Ù…Ù„ <strong>Voice-to-Action Pipeline</strong> Ù…ÛŒÚº Ø¬ÙˆÚ‘ÛŒÚº Ú¯Û’Û”</p>
        
        <pre>
[Microphone] â†’ [Whisper] â†’ [Text] â†’ [LLM] â†’ [JSON] â†’ [ROS 2 Controller] â†’ [Robot]
        </pre>
        
        <h2>ğŸ—ï¸ ROS 2 Ø¢Ø±Ú©ÛŒÙ¹ÛŒÚ©Ú†Ø±</h2>
        
        <p>ÛÙ… ØªÛŒÙ† Ù†ÙˆÚˆØ³ Ø¨Ù†Ø§Ø¦ÛŒÚº Ú¯Û’:</p>
        
        <ol>
          <li><strong>AudioNode</strong>: Ø¢ÚˆÛŒÙˆ Ø±ÛŒÚ©Ø§Ø±Úˆ Ú©Ø±ØªØ§ ÛÛ’ Ø§ÙˆØ± Whisper Ú©Ùˆ Ø¨Ú¾ÛŒØ¬ØªØ§ ÛÛ’Û”</li>
          <li><strong>BrainNode</strong>: Ù…ØªÙ† ÙˆØµÙˆÙ„ Ú©Ø±ØªØ§ ÛÛ’ØŒ LLM Ú©Ùˆ Ú©Ø§Ù„ Ú©Ø±ØªØ§ ÛÛ’ØŒ Ø§ÙˆØ± Ø§ÛŒÚ©Ø´Ù†Ø² Ø´Ø§Ø¦Ø¹ Ú©Ø±ØªØ§ ÛÛ’Û”</li>
          <li><strong>ControlNode</strong>: Ø§ÛŒÚ©Ø´Ù†Ø² Ú©Ùˆ Ø§Ù†Ø¬Ø§Ù… Ø¯ÛŒØªØ§ ÛÛ’ (Ù…Ø«Ø§Ù„ Ú©Û’ Ø·ÙˆØ± Ù¾Ø±ØŒ <code>/cmd_vel</code> Ù¾Ø± Ø´Ø§Ø¦Ø¹ Ú©Ø±Ù†Ø§)Û”</li>
        </ol>
        
        <h2>ğŸ’» Ú©ÙˆÚˆ Ú©Ø§ Ù†ÙØ§Ø°</h2>
        
        <h3>Brain Node</h3>
        
        <pre>{`
import rclpy
from rclpy.node import Node
from std_msgs.msg import String
import json

class BrainNode(Node):
    def __init__(self):
        super().__init__('brain_node')
        self.sub = self.create_subscription(String, '/voice/text', self.callback, 10)
        self.pub = self.create_publisher(String, '/robot/actions', 10)
        
    def callback(self, msg):
        command = msg.data
        self.get_logger().info(f"Thinking about: {command}")
        
        # Call LLM (simplified)
        actions = parse_with_llm(command)
        
        # Publish actions
        action_msg = String()
        action_msg.data = json.dumps(actions)
        self.pub.publish(action_msg)
        `}</pre>
        
        <h3>Control Node</h3>
        
        <pre>{`
import rclpy
from rclpy.node import Node
from std_msgs.msg import String
from geometry_msgs.msg import Twist
import json

class ControlNode(Node):
    def __init__(self):
        super().__init__('control_node')
        self.sub = self.create_subscription(String, '/robot/actions', self.callback, 10)
        self.vel_pub = self.create_publisher(Twist, '/cmd_vel', 10)
        
    def callback(self, msg):
        actions = json.loads(msg.data)
        
        for action in actions['actions']:
            if action['type'] == 'move':
                self.move_robot(action['target'])
            elif action['type'] == 'stop':
                self.stop_robot()
                
    def move_robot(self, target):
        # Logic to move to target
        twist = Twist()
        twist.linear.x = 0.5
        self.vel_pub.publish(twist)
        `}</pre>
        
        <h2>ğŸš€ Ø³Ø³Ù¹Ù… Ú©Ùˆ Ú†Ù„Ø§Ù†Ø§</h2>
        
        <p>Ù„Ø§Ù†Ú† ÙØ§Ø¦Ù„ Ú©Ø§ Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Ø±ØªÛ’ ÛÙˆØ¦Û’ ØªÙ…Ø§Ù… Ù†ÙˆÚˆØ³ Ø´Ø±ÙˆØ¹ Ú©Ø±ÛŒÚº:</p>
        
        <pre>{`
from launch import LaunchDescription
from launch_ros.actions import Node

def generate_launch_description():
    return LaunchDescription([
        Node(package='my_bot', executable='audio_node'),
        Node(package='my_bot', executable='brain_node'),
        Node(package='my_bot', executable='control_node'),
    ])
        `}</pre>
        
        <h2>ğŸ‰ Ù†ØªÛŒØ¬Û</h2>
        
        <p>Ù…Ø¨Ø§Ø±Ú© ÛÙˆ! Ø¢Ù¾ Ù†Û’ <strong>Physical AI & Humanoid Robotics</strong> Ú©Ø§ Ù†ØµØ§Ø¨ Ù…Ú©Ù…Ù„ Ú©Ø± Ù„ÛŒØ§ ÛÛ’Û”</p>
        
        <p>Ø¢Ù¾ Ù†Û’ Ø³ÛŒÚ©Ú¾Ø§:</p>
        <ul>
          <li>âœ… ROS 2 Ú©Û’ Ø¨Ù†ÛŒØ§Ø¯ÛŒ Ø§ØµÙˆÙ„</li>
          <li>âœ… Gazebo Ø§ÙˆØ± Unity Ù…ÛŒÚº Ù†Ù‚Ù„ÛŒ</li>
          <li>âœ… NVIDIA Isaac Sim Ø§ÙˆØ± RL</li>
          <li>âœ… ÙˆØ§Ø¦Ø³ Ú©Ù†Ù¹Ø±ÙˆÙ„Úˆ Ø±ÙˆØ¨ÙˆÙ¹Ú©Ø³</li>
        </ul>
        
        <p>Ù…Ø³ØªÙ‚Ø¨Ù„ Ø±ÙˆØ´Ù† ÛÛ’ØŒ Ø§ÙˆØ± Ø§Ø¨ Ø¢Ù¾ Ø§Ø³Û’ Ø¨Ù†Ø§Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ ØªÛŒØ§Ø± ÛÛŒÚº!</p>
      </div>
    );
  }
  
  return (
    <div>
      <h1>Building the Voice Pipeline</h1>
      
      <h2>ğŸ¯ The Big Picture</h2>
      
      <p>In this final chapter, we will connect everything into a complete <strong>Voice-to-Action Pipeline</strong>.</p>
      
      <pre>
[Microphone] â†’ [Whisper] â†’ [Text] â†’ [LLM] â†’ [JSON] â†’ [ROS 2 Controller] â†’ [Robot]
      </pre>
      
      <h2>ğŸ—ï¸ ROS 2 Architecture</h2>
      
      <p>We will create three nodes:</p>
      
      <ol>
        <li><strong>AudioNode</strong>: Records audio and sends to Whisper.</li>
        <li><strong>BrainNode</strong>: Receives text, calls LLM, and publishes actions.</li>
        <li><strong>ControlNode</strong>: Executes actions (e.g., publishing to <code>/cmd_vel</code>).</li>
      </ol>
      
      <h2>ğŸ’» Code Implementation</h2>
      
      <h3>Brain Node</h3>
      
      <pre>{`
import rclpy
from rclpy.node import Node
from std_msgs.msg import String
import json

class BrainNode(Node):
    def __init__(self):
        super().__init__('brain_node')
        self.sub = self.create_subscription(String, '/voice/text', self.callback, 10)
        self.pub = self.create_publisher(String, '/robot/actions', 10)
        
    def callback(self, msg):
        command = msg.data
        self.get_logger().info(f"Thinking about: {command}")
        
        # Call LLM (simplified)
        actions = parse_with_llm(command)
        
        # Publish actions
        action_msg = String()
        action_msg.data = json.dumps(actions)
        self.pub.publish(action_msg)
      `}</pre>
      
      <h3>Control Node</h3>
      
      <pre>{`
import rclpy
from rclpy.node import Node
from std_msgs.msg import String
from geometry_msgs.msg import Twist
import json

class ControlNode(Node):
    def __init__(self):
        super().__init__('control_node')
        self.sub = self.create_subscription(String, '/robot/actions', self.callback, 10)
        self.vel_pub = self.create_publisher(Twist, '/cmd_vel', 10)
        
    def callback(self, msg):
        actions = json.loads(msg.data)
        
        for action in actions['actions']:
            if action['type'] == 'move':
                self.move_robot(action['target'])
            elif action['type'] == 'stop':
                self.stop_robot()
                
    def move_robot(self, target):
        # Logic to move to target
        twist = Twist()
        twist.linear.x = 0.5
        self.vel_pub.publish(twist)
      `}</pre>
      
      <h2>ğŸš€ Running the System</h2>
      
      <p>Start all nodes using a launch file:</p>
      
      <pre>{`
from launch import LaunchDescription
from launch_ros.actions import Node

def generate_launch_description():
    return LaunchDescription([
        Node(package='my_bot', executable='audio_node'),
        Node(package='my_bot', executable='brain_node'),
        Node(package='my_bot', executable='control_node'),
    ])
      `}</pre>
      
      <h2>ğŸ‰ Conclusion</h2>
      
      <p>Congratulations! You have completed the <strong>Physical AI & Humanoid Robotics</strong> textbook.</p>
      
      <p>You have learned:</p>
      <ul>
        <li>âœ… ROS 2 Fundamentals</li>
        <li>âœ… Simulation in Gazebo and Unity</li>
        <li>âœ… NVIDIA Isaac Sim and RL</li>
        <li>âœ… Voice-Controlled Robotics</li>
      </ul>
      
      <p>The future is bright, and you are now ready to build it!</p>
    </div>
  );
}
